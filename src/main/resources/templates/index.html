<!doctype html>
<html
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/default_layout}" lang="ko">

<div layout:fragment="content">
    <script th:inline="javascript">
        var errorMessage = [[${errorMessage}]];

        if (errorMessage != null) {
            alert(errorMessage);
            // 이후 로직 추가 가능
        }
    </script>
    <main>
        <section class="hero-section">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="text-center">
                            <h1 class="text-black">개발자를 위한 앞서가는 채용 플랫폼</h1>

                            <p class="text-black">For Developers. For Job Seekers.</p>

                            <a th:if="${session.id==null}" href="/v1/user/join"
                               class="btn custom-btn smoothscroll mt-3"> 유저 회원가입하기 </a>
                            <a th:if="${session.id==null}" href="/v1/company/join"
                               class="btn custom-btn smoothscroll mt-3"> 기업 회원가입하기 </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="trending-podcast-section section-padding" th:if="${session.bno==null}">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="section-title-wrap mb-5">
                            <h4 class="section-title">최신 공고</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0" th:each="post, postStat : ${map.newest}">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                    <a th:href="@{/v1/click/post/{postId}/detail(companyId=${post.companyId}, postId=${post.id}, postType=${post.postType})}">
                                        <img th:src="${post.photo}"
                                             class="custom-block-image img-fluid"
                                             alt="">
                                    </a>
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-between">
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='NORMAL'}">
                                            <button class="badge" style="background-color: #717275"
                                                    th:text="일반공고"></button>
                                        </div>
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='MZ'}">
                                            <button class="badge" style="background-color: #0a53be"
                                                    th:text="MZ공고"></button>
                                        </div>
                                        <a class="text-black " th:text="${post.name}">
                                        </a>
                                    </div>
                                    <a class="bi-balloon me-1">
                                        <span class="text-black" th:text="${post.workAddress}"></span>
                                    </a>
                                    <a class="d-flex justify-content-between me-1">
                                        <span class="bi-clock-fill text-black" th:text="' 마감일: ~'+${post.endDate}"></span>
                                    </a>

                                    <hr>
                                    <h5 class="mb-0" th:text="${post.title}"></h5>

                                    <div class="custom-block-bottom d-flex justify-content-between mt-2">
                                        <a class="bi-person me-1">
                                            <span class="text-black" th:text="'경력 '+${post.career}+'년'"></span>
                                        </a>

                                        <span th:text="${post.jobIdSet}"></span>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="trending-podcast-section section-padding" th:if="${session.bno==null}">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="section-title-wrap mb-5">
                            <h4 class="section-title">마감임박 공고</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0" th:each="post, postStat : ${map.deadline}">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                    <a th:href="@{/v1/click/post/{postId}/detail(companyId=${post.companyId}, postId=${post.id}, postType=${post.postType})}">
                                        <img th:src="${post.photo}"
                                             class="custom-block-image img-fluid"
                                             alt="">
                                    </a>
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-between">
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='NORMAL'}">
                                            <button class="badge" style="background-color: #717275"
                                                    th:text="일반공고"></button>
                                        </div>
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='MZ'}">
                                            <button class="badge" style="background-color: #0a53be"
                                                    th:text="MZ공고"></button>
                                        </div>
                                        <a class="text-black " th:text="${post.name}">
                                        </a>
                                    </div>
                                    <a class="bi-balloon me-1">
                                        <span class="text-black" th:text="${post.workAddress}"></span>
                                    </a>
                                    <a class="d-flex justify-content-between me-1">
                                        <span class="bi-clock-fill text-black" th:text="' 마감일: ~'+${post.endDate}"></span>
                                    </a>

                                    <hr>
                                    <h5 class="mb-0" th:text="${post.title}"></h5>

                                    <div class="custom-block-bottom d-flex justify-content-between mt-2">
                                        <a class="bi-person me-1">
                                            <span class="text-black" th:text="'경력 '+${post.career}+'년'"></span>
                                        </a>

                                        <span th:text="${post.jobIdSet}"></span>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="trending-podcast-section section-padding" th:if="${session.bno!=null}">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="section-title-wrap mb-5">
                            <h4 class="section-title">공고 수 정보</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-info">전체 공고 수</h5>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-secondary" th:text="${count.countAllPosts}"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-success">진행중인 공고 수</h5>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-secondary" th:text="${count.countOpen}"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-warning">마감 공고 수</h5>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-secondary" th:text="${count.countEndedPosts}"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

</div>
</html>