<!doctype html>
<html
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/default_layout}" lang="ko">

<div layout:fragment="content">
    <script th:inline="javascript">
        var errorMessage = [[${errorMessage}]];

        if (errorMessage != null) {
            alert(errorMessage);
            // 이후 로직 추가 가능
        }
    </script>
    <main>
        <section class="hero-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-12">
                        <div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            </div>
                            <div class="carousel-inner rounded-2">
                                <div class="carousel-item active">
                                    <img src="/images/carousel/company1.jpg" class="d-block w-100" >
                                    <div class="carousel-caption d-md-block">
                                        <h5 class="text-light">개발자를 위한 앞서가는 채용 플랫폼</h5>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <img src="/images/carousel/company2.jpg" class="d-block w-100" >
                                    <div class="carousel-caption d-md-block">
                                        <h5 class="text-light">지금 바로 채용공고에 지원해 보세요.</h5>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <img src="/images/carousel/company3.jpg" class="d-block w-100" >
                                    <div class="carousel-caption d-md-block">
                                        <h5 class="text-light">훌륭한 인재를 채용해 보세요.</h5>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon text-light" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon text-light" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>

                    <div class="row col-12 mt-1 text-end">
                        <div class="col-2 d-none d-md-block"></div>
                        <div class="col-2 d-none d-md-block"></div>
                        <div class="col-2 d-none d-md-block"></div>
                        <div class="col-md-2 d-none d-md-block"></div>
                        <div class="col-md-4 col-12">
                            <a th:if="${session.id==null}" href="/v1/user/join" class="btn custom-btn smoothscroll">유저 회원가입</a>
                            <a th:if="${session.id==null}" href="/v1/company/join" class="btn custom-btn smoothscroll ms-2">기업 회원가입</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <section class="trending-podcast-section mt-3" th:if="${session.bno==null}">
            <div class="container">
                <div class="row">

                    <!--<div class="col-lg-12 col-md-10 col-12 mt-1">

                    </div>-->

                    <div class="col-lg-12 col-12">
                        <div class="section-title-wrap mb-3">
                            <h4 class="section-title">최신 공고</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0 " th:each="post, postStat : ${map.newest}">
                            <div class="custom-block custom-block-full mb-2 ">
                                <div class="custom-block-image-wrap">
                                    <a th:href="@{/v1/click/post/{postId}/detail(companyId=${post.companyId}, postId=${post.id}, postType=${post.postType})}">
                                        <img src="/images/podcast/27670664_7369753.jpg"
                                             class="custom-block-image img-fluid"
                                             alt="">
                                    </a>
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-between">
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='NORMAL'}">
                                            <button class="badge" style="background-color: #717275"
                                                    th:text="일반공고"></button>
                                        </div>
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='MZ'}">
                                            <button class="badge" style="background-color: #0a53be"
                                                    th:text="MZ공고"></button>
                                        </div>
                                        <a class="text-black " th:text="${post.name}">
                                        </a>
                                    </div>
                                    <a class="bi-balloon me-1">
                                        <span class="text-black" th:text="${post.workAddress}"></span>
                                    </a>
                                    <a class="d-flex justify-content-between me-1">
                                        <span class="bi-clock-fill text-black" th:text="' 마감일: ~'+${post.endDate}"></span>
                                    </a>

                                    <hr>
                                    <h6 class="mb-0" th:text="${post.title}"></h6>

                                    <div class="custom-block-bottom d-flex justify-content-between mt-2">
                                        <a class="bi-person me-1">
                                            <span class="text-black" th:text="'경력 '+${post.career}+'년'"></span>
                                        </a>

                                        <span th:text="${post.jobIdSet}"></span>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="trending-podcast-section mt-3" th:if="${session.bno==null}">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="section-title-wrap mb-5">
                            <h4 class="section-title">마감임박 공고</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0" th:each="post, postStat : ${map.deadline}">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                    <a th:href="@{/v1/click/post/{postId}/detail(companyId=${post.companyId}, postId=${post.id}, postType=${post.postType})}">
                                        <img src="/images/podcast/27670664_7369753.jpg"
                                             class="custom-block-image img-fluid"
                                             alt="">
                                    </a>
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-between">
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='NORMAL'}">
                                            <button class="badge" style="background-color: #717275"
                                                    th:text="일반공고"></button>
                                        </div>
                                        <div class="mb-2 d-inline-flex" th:if="${post.postType=='MZ'}">
                                            <button class="badge" style="background-color: #0a53be"
                                                    th:text="MZ공고"></button>
                                        </div>
                                        <a class="text-black " th:text="${post.name}">
                                        </a>
                                    </div>
                                    <a class="bi-balloon me-1">
                                        <span class="text-black" th:text="${post.workAddress}"></span>
                                    </a>
                                    <a class="d-flex justify-content-between me-1">
                                        <span class="bi-clock-fill text-black" th:text="' 마감일: ~'+${post.endDate}"></span>
                                    </a>

                                    <hr>
                                    <h6 class="mb-0" th:text="${post.title}"></h6>

                                    <div class="custom-block-bottom d-flex justify-content-between mt-2">
                                        <a class="bi-person me-1">
                                            <span class="text-black" th:text="'경력 '+${post.career}+'년'"></span>
                                        </a>

                                        <span th:text="${post.jobIdSet}"></span>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="trending-podcast-section section-padding" th:if="${session.bno!=null}">
            <div class="container">
                <div class="row">

                    <div class="col-lg-12 col-12">
                        <div class="section-title-wrap mb-5">
                            <h4 class="section-title">공고 수 정보</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-info">전체 공고 수</h5>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-secondary" th:text="${count.countAllPosts}"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-success">진행중인 공고 수</h5>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-secondary" th:text="${count.countOpen}"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block custom-block-full mb-2">
                                <div class="custom-block-image-wrap">
                                </div>

                                <div class="custom-block-info">
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-warning">마감 공고 수</h5>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-center">
                                        <h5 class="mb-0 text-secondary" th:text="${count.countEndedPosts}"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

</div>
</html>